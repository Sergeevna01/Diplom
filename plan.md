# План тестирования

1. Составление чек-листа 
2. Составление тест-кейсов
3. Ручное тестирование мобильного приложения
4. Автоматизация тестирования
5. Создание отчета о тестировании.

## Перечень автоматизируемых сценариев

1. Функциональное тестирование (общее).
2. Позитивное тестирование приложения (для полей).
3. Негативное тестирование приложения (для полей).

### Frontend

**Примечание*:** валидными значениями для полей являются:
- Номер карты: 12-19 цифр;
- Месяц: число от 01 до 12;
- Год: две последние цифры текущего и последующих лет;
- Владелец: латиница в ВЕРХНЕМ РЕГИСТРЕ, дефис и пробел, первый и последний символ должны быть буквами;
- CVC/CVV: число длиной 3 цифры;

Позитивное тестирование:

- Успешная оплата тура "Путешествие дня" при валидном заполнение полей формы "Оплата по карте" по действующей карте (номер карты заполнен с пробелами после каждых 4 символов)  
   Ожидаемый результат: появление сообщения об успешной оплате тура

- Успешная оплата в кредит тура "Путешествие дня" при валидном* заполнение полей формы "Кредит по данным карты" по действующей карте (номер карты заполнен с пробелами после каждых 4 символов)  
   Ожидаемый результат: появление сообщения о успешной взятие кредита

- Отказ в оплате тура "Путешествие дня" при валидном заполнение полей формы "Оплата по карте" по declined карте (номер карты заполнен с пробелами после каждых 4 символов)  
   Ожидаемый результат: появление сообщения о отказе в оплате тура

- Отказ в кредите на покупку тура "Путешествие дня" при валидном заполнение полей формы "Кредит по данным карты" по declined карте (номер карты заполнен с пробелами после каждых 4 символов)  
   Ожидаемый результат: появление сообщения о отказе в взятие кредита

- Заполнение всех полей валидными данными формы "Оплата по карте" тура "Путешествие дня" с последующим переключением на форму "Кредит по данным карты"  
   Ожидаемый результат: форма переключиться, поля останутся заполненными теми же данными

- Заполнение всех полей валидными данными формы "Кредит по данным карты" тура "Путешествие дня" с последующим переключением на форму "Оплата по карте"  
   Ожидаемый результат: форма переключиться, поля останутся заполненными теми же данными

- Заполнение поля "Номер карты" номером действующей карты без пробелов в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: появление сообщения о успешной оплате тура
   
- Заполнение поля "Месяц" значением 01 в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: появление сообщения о успешной оплате тура
   
- Заполнение поля "Месяц" значением 12 в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: появление сообщения о успешной оплате тура
   
- Заполнение поля "Год" текущим годом и поля "Месяц" текущим месяцем в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: появление сообщения о успешной оплате тура

Негативное тестирование:

- Оставление поля "Номер карты" пустым в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Номер карты" появиться предупреждение об пустом поле

- Заполнение поля "Номер карты" 11 рандомными цифрами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Номер карты" появиться предупреждение о недопустимой длине поля

- Заполнение поля "Номер карты" 12 рандомными цифрами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: появление сообщения об отказе в оплате тура

- Заполнение поля "Номер карты" 19 рандомными цифрами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: появление сообщения об отказе в оплате тура

- Заполнение поля "Номер карты" 20 рандомными цифрами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Номер карты" появиться предупреждение о недопустимой длине поля

- Заполнение поля "Номер карты" 16 рандомными символами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Номер карты" появится предупреждение о недопустимых символах

- Оставление поля "Месяц" пустым в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Месяц" появится предупреждение о пустом поле

- Заполнение поля "Месяц" номером с 1 до 9 в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: автодополнение нулем вначале в поле "Месяц"

- Заполнение поля "Месяц" 3 цифрами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: обрезание последней цифры в поле "Месяц"

- Заполнение поля "Месяц" значением 00 в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Месяц" появится предупреждение о невалидном значении

- Заполнение поля "Месяц" значением 13 в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Месяц" появится предупреждение о невалидном значении

- Заполнение поля "Месяц" двумя рандомными символами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Месяц" появится предупреждение о невалидном значении

- Оставление поля "Год" пустым в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Год" появится предупреждение о пустом поле

- Заполнение поля "Год" предидущим годом в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Год" появится предупреждение о невалидном значении
 
- Заполнение поля "Год" текущим годом, а поля "Месяц" предидущим месяцем в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Месяц" появится предупреждение о невалидном значении

- Оставление поля "Владелец" пустым в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Владелец" появится предупреждение о пустом поле

- Заполнение поля "Владелец" валидными данными с дефисом в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: появление сообщения о успешной оплате тура

- Заполнение поля "Владелец" в нижнем регистре в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: автозаполнение поля "Владелец" в верхнем регистре

- Заполнение поля "Владелец" с пробелами в начале и в конце в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: автоудаление лишних символов в поле "Владелец"

- Заполнение поля "Владелец" с дефисами в начале и в конце в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: автоудаление лишних символов в поле "Владелец"

- Заполнение поля "Владелец" кириллицей в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Владелец" появится предупреждение о невалидном значении

- Заполнение поля "Владелец" рандомными спецсимволами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "Владелец" появится предупреждение о невалидном значении

- Оставление поля "CVC/CVV" пустым в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "CVC/CVV" появится предупреждение о пустом поле

- Заполнение поля "CVC/CVV" 2 рандомными цифрами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "CVC/CVV"  появление сообщения о недопустимой длине

- Заполнение поля "CVC/CVV" 4 рандомными цифрами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: 4 цифра в поле "CVC/CVV" обрезается

- Заполнение поля "CVC/CVV" 3 рандомными буквами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "CVC/CVV"  появление сообщения о невалидном значении

- Заполнение поля "CVC/CVV" 3 рандомными спецсимволами в форме "Оплата по карте" тура "Путешествие дня"  
   Ожидаемый результат: под полем "CVC/CVV"  появление сообщения о невалидном значении
   </a>

### Backend

Позитивное тестирование:

- Отправка POST запроса платежа с валидно заполненным body и данными действующей карты на  http://localhost:9999/payment  
   Ожидаемый результат: статус 200, появление соответствующей записей в БД

- Отправка POST запроса на кредит с валидно заполненным body и данными действующей карты на  http://localhost:9999/credit  
   Ожидаемый результат: статус 200, появление соответствующей записей в БД

- Отправка POST запроса платежа с валидно заполненным body и данными declined карты на  http://localhost:9999/payment  
   Ожидаемый результат: статус 200, появление соответствующей записей в БД

- Отправка POST запроса на кредит с валидно заполненным body и данными declined карты на  http://localhost:9999/credit  
   Ожидаемый результат: статус 200, появление соответствующей записей в БД

Негативное тестирование:

- Отправка POST запроса с пустым body на  http://localhost:9999/payment  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса с пустым body  на  http://localhost:9999/credit  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса платежа с пустым значением у атрибута number в body (остальные данные заполнены валидно) на  http://localhost:9999/payment  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса на кредит с пустым значением у атрибута number в body (остальные данные заполнены валидно) на  http://localhost:9999/credit  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса платежа с пустым значением у атрибута month в body (остальные данные заполнены валидно) на  http://localhost:9999/payment  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса на кредит с пустым значением у атрибута month в body (остальные данные заполнены валидно) на  http://localhost:9999/credit  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса платежа с пустым значением у атрибута year в body (остальные данные заполнены валидно) на  http://localhost:9999/payment  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса на кредит с пустым значением у атрибута year в body (остальные данные заполнены валидно) на  http://localhost:9999/credit  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса платежа с пустым значением у атрибута holder в body (остальные данные заполнены валидно) на  http://localhost:9999/payment  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса на кредит с пустым значением у атрибута holder в body (остальные данные заполнены валидно) на  http://localhost:9999/credit  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса платежа с пустым значением у атрибута cvc в body (остальные данные заполнены валидно) на  http://localhost:9999/payment  
   Ожидаемый результат: статус 400, в БД не появляются новые записи

- Отправка POST запроса на кредит с пустым значением у атрибута cvc в body (остальные данные заполнены валидно) на  http://localhost:9999/credit  
   Ожидаемый результат: статус 400, в БД не появляются новые записи
   </a>

**Примечание*:** валидными значениями для полей являются:
- Номер карты: 12-19 цифр
- Месяц: число от 01 до 12 (при совпадение поля "Год" с текущим годом, номер месяца не должен быть раньше текущего)
- Год: две последние цифры текущего и последующих лет
- Владелец: латиница в ВЕРХНЕМ РЕГИСТРЕ, дефис и пробел, первый и последний символ должны быть буквами
- CVC/CVV: число длиной 3 цифры
  </a>

## Перечень используемых инструментов с обоснованием выбора

1. **IDE:** ***IntelliJ IDEA***
2. **Язык программирования:** ***Java***
3. **Система сборки:**  
   ***Gradle***  -  легче настраивать зависимости по сравнению с Maven
4. **Тестовая среда:**  
   ***TestNG***  - имеет, по сравнению с JUnit, больше аннотаций для управления состоянием может и имеет больше возможностей по параметризации тестов.
5. **Система репортинга:**  
   ***Allure***  - популярный инструмент построения отчётов, упрощающий их анализ. 
6. **Фреймворк для frontend тестирования:**  
   ***Selenide***  - популярный и простой инструмент для UI тестов
7. **Фреймворки для backend тестирования:**  
   ***REST Assured***  - популярный инструмент для отправки REST запросов
   
   ## Перечень и описание возможных рисков при автоматизации
   
- Возможность переименование, добавление или удаление кнопок;
- Возможность переименование, добавление или удаление разделов;
- Возможность появления сложности в поиске id элементов;
- Потеря актуальности тестов API при изменение структуры запросов со стороны банка;
- Из-за требование совместимости с двумя БД: MySQL, PostgreSQL - могут возникнут проблемы с разностью диалектов SQL;

## Интервальная оценка с учётом рисков (в часах)

1. Создание плана / чек-листа / тест-кейсов: 12 - 16 часов.
2. Настройка окружения, создание необходимых дата-хелперов и page object: 6 - 8 часов.
3. Написание автотестов: 24 - 36 часов
4. Отчёт по результатам автоматизации и создание баг-репортов:: 12 - 16 часов.

  Всего часов (max): 96.
  Всего часов (min): 54.
  
  ## План сдачи работ
  
  1. План тестирования до 28.11.2022г.
  2. Настройка окружения, написание и отладка автотестов до 8.12.2022г.
  3. Отчет по результатам тестирования до 12.12.2022г.
